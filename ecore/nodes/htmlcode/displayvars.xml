<NODE export_version="0.5" nodetype="htmlcode" title="displayvars">
  <field type_nodetype="user,nodetype" name="author_user" type="noderef">root</field>
  <field name="authoraccess" type="literal_value">iiii</field>
  <field name="code" type="literal_value"># This displays the variables contained in a setting, and
# the values assigned to each one.  The values are displayed
# as links to nodes if the node is present (with the node_Id
# in parentheses) otherwise it is simply listed as text.


my $SETTINGS = getVars $NODE;
my $str;
my ($keyclr, $valclr) = ("#CCCCFF", "#DEDEFF");


my @skeys = keys %$SETTINGS;
if (not @skeys) { 
  return "&lt;i>the node's settings are empty&lt;/i>&lt;br>\n";
}

@skeys = sort {$a cmp $b} @skeys;
my $zulu;
$str.="&lt;TABLE width=100% cellpadding=1 cellspacing=0>\n";
$str.="&lt;TR>&lt;TH>Setting&lt;/TH>&lt;TH>Value&lt;/TH>&lt;/TR>\n";
foreach (@skeys) 
 {    
      $str.= "&lt;TR>&lt;TD bgcolor=$keyclr>$_&lt;/TD>";
      $zulu=$_;
      #checks if the value is a node id (a number that exists as a nodeId)
      if (($_=~/(.+?)\_(.+?)/)and ($$SETTINGS{$_}!~/\D/ ) and (getNodeById($$SETTINGS{$_}) ))
         { $str.="&lt;TD bgcolor=$valclr>" . linkNode($$SETTINGS{$_}) . " ($$SETTINGS{$_})&lt;/TD>&lt;/TR>\n";  }
      else
       {   $str.="&lt;TD bgcolor=$valclr>$$SETTINGS{$_}&lt;/TR>\n";}
 }
$str .="&lt;/TABLE>\n";
</field>
  <field name="dynamicauthor_permission" type="literal_value">-1</field>
  <field name="dynamicgroup_permission" type="literal_value">-1</field>
  <field name="dynamicguest_permission" type="literal_value">-1</field>
  <field name="dynamicother_permission" type="literal_value">-1</field>
  <field name="group_usergroup" type="literal_value">-1</field>
  <field name="groupaccess" type="literal_value">iiii-</field>
  <field name="guestaccess" type="literal_value">iiii-</field>
  <field type_nodetype="location,nodetype" name="loc_location" type="noderef">htmlcode</field>
  <field name="otheraccess" type="literal_value">iiii-</field>
  <field name="title" type="literal_value">displayvars</field>
  <field type_nodetype="nodetype,nodetype" name="type_nodetype" type="noderef">htmlcode</field>
</NODE>
