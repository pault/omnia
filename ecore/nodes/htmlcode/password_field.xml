<NODE export_version="0.5" nodetype="htmlcode" title="password_field">
  <field name="author_user" type="noderef" type_nodetype="user,nodetype">root</field>
  <field name="authoraccess" type="literal_value">iiii</field>
  <field name="code" type="literal_value">my ($field) = @_;

#like all good password fields, we should have a confirm
my $name = "$$NODE{type}{title}_$field";

my ($p1, $p2) = ($query->param($name.'1'), $query->param($name.'2'));
my $str;

if ($p1 or $p2) {
	if ($p1 eq $p2) {
		#update the node
		$$NODE{$field} = $p1;
		$NODE->update($USER);	
		
		$str .= "Passwords updated.  Please ".linkNodeTitle("login", "", {user => $$USER{title}})." with this new password&lt;br>";
	} else {
		$str .= "Passwords don't match!&lt;br>";
	}
}


$str . $query->password_field($name."1", $$NODE{$field},8,8) .
	'&lt;br>' .$query->password_field($name."2", $$NODE{$field},8,8); 
</field>
  <field name="dynamicauthor_permission" type="literal_value">-1</field>
  <field name="dynamicgroup_permission" type="literal_value">-1</field>
  <field name="dynamicguest_permission" type="literal_value">-1</field>
  <field name="dynamicother_permission" type="literal_value">-1</field>
  <field name="group_usergroup" type="literal_value">-1</field>
  <field name="groupaccess" type="literal_value">iiii-</field>
  <field name="guestaccess" type="literal_value">iiii-</field>
  <field name="loc_location" type="noderef" type_nodetype="location,nodetype">htmlcode</field>
  <field name="otheraccess" type="literal_value">iiii-</field>
  <field name="title" type="literal_value">password_field</field>
  <field name="type_nodetype" type="noderef" type_nodetype="nodetype,nodetype">htmlcode</field>
</NODE>
