<NODE export_version="0.5" nodetype="htmlcode" title="password_field">
  <field type="noderef" type_nodetype="user,nodetype" name="author_user">root</field>
  <field type="literal_value" name="authoraccess">iiii</field>
  <field type="literal_value" name="code">my ($field) = @_;

#like all good password fields, we should have a confirm
my $name = "$$NODE{type}{title}_$field";

my ($p1, $p2) = ($query->param($name.'1'), $query->param($name.'2'));
my $str;

if ($p1 or $p2) {
	if ($p1 eq $p2) {
		#update the node
		$$NODE{$field} = $p1;
		$NODE->update($USER);	
		
		$str .= "Passwords updated.  Please ".linkNodeTitle("login", "", {user => $$USER{title}})." with this new password&lt;br>";
	} else {
		$str .= "Passwords don't match!&lt;br>";
	}
}


$str . $query->password_field($name."1", $$NODE{$field},8,8) .
	'&lt;br>' .$query->password_field($name."2", $$NODE{$field},8,8); 
</field>
  <field type="literal_value" name="dynamicauthor_permission">-1</field>
  <field type="literal_value" name="dynamicgroup_permission">-1</field>
  <field type="literal_value" name="dynamicguest_permission">-1</field>
  <field type="literal_value" name="dynamicother_permission">-1</field>
  <field type="literal_value" name="group_usergroup">-1</field>
  <field type="literal_value" name="groupaccess">iiii-</field>
  <field type="literal_value" name="guestaccess">iiii-</field>
  <field type="noderef" type_nodetype="location,nodetype" name="loc_location">htmlcode</field>
  <field type="literal_value" name="otheraccess">iiii-</field>
  <field type="literal_value" name="title">password_field</field>
  <field type="noderef" type_nodetype="nodetype,nodetype" name="type_nodetype">htmlcode</field>
</NODE>
