<NODE><INFO>rendered by Everything::XML.pm</INFO>
	<author_user table="node" type="usergroup">gods</author_user>
	<code table="htmlcode">my $title = $query-&gt;param("node");
return unless $title;

my %approvedtypes;
foreach my $NODETYPE (values %NODETYPES) {
	if (canCreateNode ($USER, $NODETYPE)) {
		$approvedtypes{$$NODETYPE{title}} = $NODETYPE; 
		#I have to do it in this kinda strange way to remove dupes...
	}
}

return unless %approvedtypes;

my $str = "&lt;p&gt;But, if you say \"pretty please\", 
		I'll let you create a node called \"$title\" as a "; 


foreach my $type (keys %approvedtypes) {
	$str .= "&lt;LI&gt;&lt;A href=" . urlGen ({node =&gt; $title, type =&gt; $type, op =&gt; 'new'}) ."&gt;$type&lt;/A&gt;\n";
}
$str;</code>
	<core table="node">R</core>
	<package table="node">0</package>
	<reputation table="node">0</reputation>
	<title table="node">create_nodes</title>
	<type_nodetype table="node" type="nodetype">htmlcode</type_nodetype>
</NODE>