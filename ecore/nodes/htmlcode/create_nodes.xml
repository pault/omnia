<NODE><INFO>rendered by Everything::XML.pm</INFO>
	<author_user table="node" type="user">root</author_user>
	<authoraccess table="node">iiii</authoraccess>
	<code table="htmlcode">my $title = $query-&gt;param("node");
return unless $title;

my %approvedtypes;
my @allTypes = $DB-&gt;getAllTypes();
foreach my $NODETYPE (@allTypes) {
	if (canCreateNode ($USER, $NODETYPE)) {
		$approvedtypes{$$NODETYPE{title}} = $NODETYPE; 
		#I have to do it in this kinda strange way to remove dupes...
	}
}

return unless %approvedtypes;

my $str = "&lt;p&gt;But, if you say \"pretty please\", 
		I'll let you create a node called \"$title\" as a "; 


foreach my $type (keys %approvedtypes) {
	$str .= "&lt;LI&gt;&lt;A href=" . urlGen ({node =&gt; $title, type =&gt; $type, op =&gt; 'new'}) ."&gt;$type&lt;/A&gt;\n";
}
$str;</code>
	<dynamicauthor_permission table="node">-1</dynamicauthor_permission>
	<dynamicgroup_permission table="node">-1</dynamicgroup_permission>
	<dynamicguest_permission table="node">-1</dynamicguest_permission>
	<dynamicother_permssion table="node">-1</dynamicother_permssion>
	<group_usergroup table="node">-1</group_usergroup>
	<groupaccess table="node">iiii-</groupaccess>
	<guestaccess table="node">iiii-</guestaccess>
	<otheraccess table="node">iiii-</otheraccess>
	<reputation table="node">0</reputation>
	<title table="node">create_nodes</title>
	<type_nodetype table="node" type="nodetype">htmlcode</type_nodetype>
</NODE>