<NODE export_version="0.5" nodetype="htmlcode" title="showPath">
  <field type="noderef" type_nodetype="user,nodetype" name="author_user">root</field>
  <field type="literal_value" name="authoraccess">iiii</field>
  <field type="literal_value" name="code">return unless $HTMLVARS{showlocations};
my @path;
my $loc = $$NODE{loc_location};
my $parentLoc;
my $top = 0;

# Define 'root_location' to be a sublocation and showPath will not show
# any directories above that "root" location.
$top = $HTMLVARS{root_location} if(exists $HTMLVARS{root_location});

do
{
  $parentLoc = getNode($loc);
  unshift @path, linkNode($parentLoc);

  $loc = $$parentLoc{loc_location};
}until($$parentLoc{node_id} == 0 || $$parentLoc{node_id} == $top);

my $pathStr = join ' > ', @path;

$pathStr .= " >" if($pathStr ne "");
return $pathStr;</field>
  <field type="literal_value" name="dynamicauthor_permission">-1</field>
  <field type="literal_value" name="dynamicgroup_permission">-1</field>
  <field type="literal_value" name="dynamicguest_permission">-1</field>
  <field type="literal_value" name="dynamicother_permission">-1</field>
  <field type="literal_value" name="group_usergroup">-1</field>
  <field type="literal_value" name="groupaccess">iiii-</field>
  <field type="literal_value" name="guestaccess">ii-i-</field>
  <field type="noderef" type_nodetype="location,nodetype" name="loc_location">htmlcode</field>
  <field type="literal_value" name="otheraccess">ii-i-</field>
  <field type="literal_value" name="title">showPath</field>
  <field type="noderef" type_nodetype="nodetype,nodetype" name="type_nodetype">htmlcode</field>
</NODE>
