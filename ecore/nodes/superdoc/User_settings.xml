<NODE><INFO>rendered by Everything::XML.pm</INFO>
	<author_user table="node" type="usergroup">gods</author_user>
	<core table="node">R</core>
	<doctext table="document">[{openform}]

[{checkvar:nodelets_off,Turn nodelets off}]&lt;br&gt;
Nodelet Header Color:[{setvar:nodelet_headerclr}]&lt;br&gt;
Nodelet Body Color:[{setvar:nodelet_textclr}]&lt;br&gt;
Nodelet align:[{setvar:nodelet_align}]&lt;br&gt;
Nodelet group:[{varmenu:nodelet_group,nodeletgroup}]&lt;br&gt;
Theme container:[{setvar:preferred_theme}]&lt;br&gt;
[%
#getTheme();

%]


Here's where you can edit your &lt;b&gt;Personal Nodelet&lt;/b&gt;:&lt;br&gt;
&lt;ul&gt;
[%

my $name = "set_personalnode";
my $delname = "del_personalnode";
my $i =0;
my $limit = $HTMLVARS{personalNodeletLimit};
$limit||=10;

my @newnodes;
my $updateflag=0;
while (defined $query-&gt;param($name.$i)) {
  my $n=$query-&gt;param($name.$i);
  $n = htmlScreen($n);
  push(@newnodes, $n) unless 
    $query-&gt;param($delname.$i); 
  $query-&gt;param($delname.$i, "");
  $query-&gt;param($name.$i, "");
  $i++;
  last if $i &gt;= $limit;
  $updateflag=1;
}
if ($updateflag) {
  my $newstr = join "&lt;br&gt;",@newnodes;
  $$VARS{personal_nodelet} = $newstr;
}

my @nodes = split "&lt;br&gt;", $$VARS{personal_nodelet};
$i=0;
my $str;
foreach (@nodes) {
  $query-&gt;param($name.$i, $_);
  $str.= $query-&gt;textfield($name.$i)
   .$query-&gt;checkbox($delname.$i,"",1,"remove?")
   ."&lt;br&gt;";
  $i++;
}
$str.=$query-&gt;textfield($name.$i, "")
    ."&lt;br&gt;" unless $i &gt;= $limit;
$str;



%]
&lt;/ul&gt;
[{closeform}]</doctext>
	<package table="node">0</package>
	<reputation table="node">0</reputation>
	<title table="node">User settings</title>
	<type_nodetype table="node" type="nodetype">superdoc</type_nodetype>
</NODE>