<NODE export_version="0.5" nodetype="nodelet" title="personal nodelet">
  <field type_nodetype="user,nodetype" name="author_user" type="noderef">root</field>
  <field name="authoraccess" type="literal_value">iiii</field>
  <field name="dynamicauthor_permission" type="literal_value">-1</field>
  <field name="dynamicgroup_permission" type="literal_value">-1</field>
  <field name="dynamicguest_permission" type="literal_value">-1</field>
  <field name="dynamicother_permission" type="literal_value">-1</field>
  <field name="group_usergroup" type="literal_value">-1</field>
  <field name="groupaccess" type="literal_value">iiii-</field>
  <field name="guestaccess" type="literal_value">iiii-</field>
  <field type_nodetype="location,nodetype" name="loc_location" type="noderef">nodelet</field>
  <field name="mini_nodelet" type="literal_value">0</field>
  <field name="nlcode" type="literal_value">[%
  my $limit = $HTMLVARS{personalNodeletLimit} || 10;

  my @nodes;
  @nodes = split("&lt;br>",$$VARS{personal_nodelet}) if ($$VARS{personal_nodelet);
  if (my $n = $query->param("addpersonalnodelet")) {
    $n = getNodeById $n;
    $$VARS{personal_nodelet} .= '&lt;br>'.$$n{title}
      if @nodes &lt; $limit;
    push @nodes, $$n{title};
  }


  my $str;
  my $i=0;
  foreach (@nodes) {
    $str.=linkNodeTitle($_)."&lt;br>\n";
    last if $i++ >= 10;
  }

  $str.="\n&lt;p align=right>"
    .linkNode($NODE, "add \"$$NODE{title}\"", {addpersonalnodelet => getId($NODE)})
    if @nodes &lt; $limit;
  $str;

%]</field>
  <field name="nlgoto" type="literal_value">0</field>
  <field name="nltext" type="literal_value"></field>
  <field name="otheraccess" type="literal_value">iiii-</field>
  <field type_nodetype="container,nodetype" name="parent_container" type="noderef">general nodelet container</field>
  <field name="title" type="literal_value">personal nodelet</field>
  <field type_nodetype="nodetype,nodetype" name="type_nodetype" type="noderef">nodelet</field>
  <field name="updateinterval" type="literal_value">0</field>
</NODE>
