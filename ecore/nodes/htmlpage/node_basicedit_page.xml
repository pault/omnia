<NODE export_version="0.5" nodetype="htmlpage" title="node basicedit page">
  <field name="MIMEtype" type="literal_value">text/html</field>
  <field name="author_user" type="noderef" type_nodetype="user,nodetype">root</field>
  <field name="authoraccess" type="literal_value">iiii</field>
  <field name="displaytype" type="literal_value">basicedit</field>
  <field name="dynamicauthor_permission" type="literal_value">-1</field>
  <field name="dynamicgroup_permission" type="literal_value">-1</field>
  <field name="dynamicguest_permission" type="literal_value">-1</field>
  <field name="dynamicother_permission" type="literal_value">-1</field>
  <field name="group_usergroup" type="literal_value">-1</field>
  <field name="groupaccess" type="literal_value">iiii-</field>
  <field name="guestaccess" type="literal_value">iiii-</field>
  <field name="loc_location" type="noderef" type_nodetype="location,nodetype">htmlpage</field>
  <field name="otheraccess" type="literal_value">iiii-</field>
  <field name="ownedby_theme" type="literal_value">0</field>
  <field name="page" type="literal_value">[%
# This code generates the form fields and the stuff that
# the user sees.
return "" unless($NODE->hasAccess($USER, 'w'));
my $tables = $$NODE{type}->getTableArray(1);
my @fields;
my $table;
my $field;
my %titletype;
my $str = "&lt;table border=0>\n";

foreach $table (@$tables)
{
  @fields = $DB->getFieldsHash($table);

  foreach $field (@fields)
  {
    $titletype{$$field{Field}} = $$field{Type};
  }
}

my $obj;
foreach $field (keys %titletype)
{
  $str .= "&lt;tr>&lt;td>$field ($titletype{$field}): &lt;/td>&lt;td>";

  if($titletype{$field} =~ /int/)
  {
    $obj = newFormObject('TextField');
    $str .= $obj->genObject($query, $NODE, $field, "update_$field", "AUTO", 15, 15);
  }
  elsif($titletype{$field} =~ /char\((.*)\)/)
  {
    my $size = 80;
    $size = $1 if($size > $1);

    $obj = newFormObject('TextField');
    $str .= $obj->genObject($query, $NODE, $field, "update_$field", "AUTO", $size, $size);
  }
  elsif($titletype{$field} =~ /text/)
  {
    $obj = newFormObject('TextArea');
    $str .= $obj->genObject($query, $NODE, $field, "update_$field", "AUTO", 80, 20, "off");
  }
  elsif($titletype{$field} =~ /datetime/)
  {
    $obj = newFormObject('TextField');
    $str .= $obj->genObject($query, $NODE, $field, "update_$field", "AUTO", 19, 19);
  }
  else
  {
    # This is for the unknown field types.
    $obj = newFormObject('TextField');
    $str .= $obj->genObject($query, $NODE, $field, "update_$field", "AUTO", 80, 255);
  }

  $str .= "&lt;/td>&lt;/tr>\n";
}

$str .= "&lt;/table>\n";
$str .= submit();
$str;
%]</field>
  <field name="pagetype_nodetype" type="noderef" type_nodetype="nodetype,nodetype">node</field>
  <field name="parent_container" type="noderef" type_nodetype="container,nodetype">updateFormContainer</field>
  <field name="permissionneeded" type="literal_value">w</field>
  <field name="title" type="literal_value">node basicedit page</field>
  <field name="type_nodetype" type="noderef" type_nodetype="nodetype,nodetype">htmlpage</field>
</NODE>
