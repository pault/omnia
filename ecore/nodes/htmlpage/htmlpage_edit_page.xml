<NODE export_version="0.5" nodetype="htmlpage" title="htmlpage edit page">
  <field type="noderef" type_nodetype="user,nodetype" name="author_user">root</field>
  <field type="literal_value" name="authoraccess">iiii</field>
  <field type="literal_value" name="displaytype">edit</field>
  <field type="literal_value" name="dynamicauthor_permission">-1</field>
  <field type="literal_value" name="dynamicgroup_permission">-1</field>
  <field type="literal_value" name="dynamicguest_permission">-1</field>
  <field type="literal_value" name="dynamicother_permission">-1</field>
  <field type="literal_value" name="group_usergroup">-1</field>
  <field type="literal_value" name="groupaccess">iiii-</field>
  <field type="literal_value" name="guestaccess">iiii-</field>
  <field type="noderef" type_nodetype="location,nodetype" name="loc_location">htmlpage</field>
  <field type="literal_value" name="otheraccess">iiii-</field>
  <field type="literal_value" name="ownedby_theme">0</field>
  <field type="literal_value" name="page">&lt;table border=0>
 &lt;tr>
  &lt;td>&lt;b>Title:&lt;/b>&lt;/td>&lt;td align=left>[{textfield:title}]&lt;/td>
  &lt;td rowspan=9>
[%
my $N = getType($$NODE{pagetype_nodetype});

return "No Pagetype selected" unless($N);

my $str = "Fields:&lt;br>";
$str .= "&lt;li>";
$str .= join "\n&lt;li>", $DB->getFields;

my $tables = $N->getTableArray(1);

return "" unless($tables &amp;&amp; int(@$tables) > 0);
foreach (@$tables) {
  $str .="\n&lt;li>";
  $str .= join "\n&lt;li>", $DB->getFields($_);
}
$str;
%]&lt;/font>&lt;/td>
 &lt;tr>
  &lt;td>&lt;b>Maintained by:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:author_user,user}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Pagetype:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:pagetype_nodetype}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>displaytype:&lt;/b>&lt;/td>
  &lt;td>[{textfield:displaytype}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Parent container:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:parent_container}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Theme:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:ownedby_theme}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Permission needed:&lt;/b>&lt;/td>
  &lt;td>[%
use Everything::FormMenu();
my $menu = new Everything::FormMenu();
$menu->addHash({ 'r' => "read", "w" => "write",
  "x" => "execute", "d" => "delete", "c" => "create"}, 1);
$menu->writePopupHTML($query, $$NODE{type}{title} .
  "_permissionneeded", $$NODE{permissionneeded});
%]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td colspan=2>
&lt;FONT SIZE=2>&lt;b>Edit the page:&lt;/b>&lt;/FONT>&lt;br>
[{textarea:page}]
  &lt;/td>
 &lt;/tr>
&lt;/table>
[{submit}]</field>
  <field type="noderef" type_nodetype="nodetype,nodetype" name="pagetype_nodetype">htmlpage</field>
  <field type="noderef" type_nodetype="container,nodetype" name="parent_container">formcontainer</field>
  <field type="literal_value" name="permissionneeded">w</field>
  <field type="literal_value" name="title">htmlpage edit page</field>
  <field type="noderef" type_nodetype="nodetype,nodetype" name="type_nodetype">htmlpage</field>
</NODE>
