<NODE export_version="0.5" nodetype="htmlpage" title="htmlpage edit page">
  <field type_nodetype="user,nodetype" name="author_user" type="noderef">root</field>
  <field name="authoraccess" type="literal_value">iiii</field>
  <field name="displaytype" type="literal_value">edit</field>
  <field name="dynamicauthor_permission" type="literal_value">-1</field>
  <field name="dynamicgroup_permission" type="literal_value">-1</field>
  <field name="dynamicguest_permission" type="literal_value">-1</field>
  <field name="dynamicother_permission" type="literal_value">-1</field>
  <field name="group_usergroup" type="literal_value">-1</field>
  <field name="groupaccess" type="literal_value">iiii-</field>
  <field name="guestaccess" type="literal_value">iiii-</field>
  <field type_nodetype="location,nodetype" name="loc_location" type="noderef">htmlpage</field>
  <field name="otheraccess" type="literal_value">iiii-</field>
  <field name="ownedby_theme" type="literal_value">0</field>
  <field name="page" type="literal_value">&lt;table border=0>
 &lt;tr>
  &lt;td>&lt;b>Title:&lt;/b>&lt;/td>&lt;td align=left>[{textfield:title}]&lt;/td>
  &lt;td rowspan=9>
[%
my $N = getType($$NODE{pagetype_nodetype});

return "No Pagetype selected" unless($N);

my $str = "Fields:&lt;br>";
$str .= "&lt;li>";
$str .= join "\n&lt;li>", $DB->getFields;

my $tables = $N->getTableArray(1);

return "" unless($tables &amp;&amp; int(@$tables) > 0);
foreach (@$tables) {
  $str .="\n&lt;li>";
  $str .= join "\n&lt;li>", $DB->getFields($_);
}
$str;
%]&lt;/font>&lt;/td>
 &lt;tr>
  &lt;td>&lt;b>Maintained by:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:author_user,user}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Pagetype:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:pagetype_nodetype}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>displaytype:&lt;/b>&lt;/td>
  &lt;td>[{textfield:displaytype}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Parent container:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:parent_container}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Theme:&lt;/b>&lt;/td>
  &lt;td>[{node_menu:ownedby_theme}]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td>&lt;b>Permission needed:&lt;/b>&lt;/td>
  &lt;td>[%
use Everything::FormMenu();
my $menu = new Everything::FormMenu();
$menu->addHash({ 'r' => "read", "w" => "write",
  "x" => "execute", "d" => "delete", "c" => "create"}, 1);
$menu->writePopupHTML($query, $$NODE{type}{title} .
  "_permissionneeded", $$NODE{permissionneeded});
%]&lt;/td>
 &lt;/tr>
 &lt;tr>
  &lt;td colspan=2>
&lt;FONT SIZE=2>&lt;b>Edit the page:&lt;/b>&lt;/FONT>&lt;br>
[{textarea:page}]
  &lt;/td>
 &lt;/tr>
&lt;/table>
[{submit}]</field>
  <field type_nodetype="nodetype,nodetype" name="pagetype_nodetype" type="noderef">htmlpage</field>
  <field type_nodetype="container,nodetype" name="parent_container" type="noderef">formcontainer</field>
  <field name="permissionneeded" type="literal_value">w</field>
  <field name="title" type="literal_value">htmlpage edit page</field>
  <field type_nodetype="nodetype,nodetype" name="type_nodetype" type="noderef">htmlpage</field>
</NODE>
