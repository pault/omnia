<NODE><INFO>rendered by Everything::XML.pm</INFO>
	<author_user table="node" type="usergroup">gods</author_user>
	<authoraccess table="node">iiii</authoraccess>
	<displaytype table="htmlpage">edit</displaytype>
	<dynamicauthor_permission table="node">-1</dynamicauthor_permission>
	<dynamicgroup_permission table="node">-1</dynamicgroup_permission>
	<dynamicguest_permission table="node">-1</dynamicguest_permission>
	<dynamicother_permission table="node">-1</dynamicother_permission>
	<group_usergroup table="node">-1</group_usergroup>
	<groupaccess table="node">iiii-</groupaccess>
	<guestaccess table="node">iiii-</guestaccess>
	<loc_location table="node" type="location">htmlpage</loc_location>
	<otheraccess table="node">iiii-</otheraccess>
	<ownedby_theme table="htmlpage" type="literal_value">0</ownedby_theme>
	<page table="htmlpage">[%
	# NOTE:  DATE field is YYYY-MM-DD hh:mm:ss! 
	my ($date, $time) = split(" ", $NODE-&gt;{updatetime});
	my ($year, $month, $day) = split(/-/, $date);

	my @mnames = qw( null January February March April May June July
		August September October November December);

	$date = "$time on $day $mnames[$month] $year";

	my $parent = $query-&gt;param('parent_task');
	if ($parent &amp;&amp; $parent ne $NODE-&gt;{parent_task}) {
		$NODE-&gt;{parent_task} = $parent;
		$NODE-&gt;{"update_$NODE"} = 1;
	} else {
		$parent ||= $NODE-&gt;{parent_task};
	}

	my $parent_title = '';
	if ($NODE-&gt;{title}) {
		$parent = linkNode($parent);
	} else {
		my $cursor = $DB-&gt;getNodeCursor('title', { node_id =&gt; $parent });
		if ($cursor-&gt;execute()) {
			$parent_title = $cursor-&gt;fetchrow_array();
			$cursor-&gt;finish();
			$parent = linkNode($parent, $parent_title);
			$NODE-&gt;{title} = "Re: $parent_title";
		}
	}
	$parent ||= 'none';

return &lt;&lt;HTML;
Updated at $date&lt;p&gt;
attached to $parent&lt;p&gt;
HTML
%]

&lt;table&gt;
&lt;tr&gt;&lt;td bgcolor="#cccccc"&gt;Title:&lt;/td&gt;
&lt;td bgcolor="#eeeeee"&gt;[{textfield:title}]&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td bgcolor="#cccccc"&gt;Category:&lt;/td&gt;
&lt;td bgcolor="#eeeeee"&gt;[{popupFromSettings:task_update settings,update_type}]&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
[%
	if (exists $NODE-&gt;{"update_$NODE"}) {
		delete $NODE-&gt;{"update_$NODE"};
		$NODE-&gt;update($USER);
	}
	return '';
%]
&lt;p&gt;&lt;h3&gt;Comment text:&lt;/h3&gt;
[{textarea:doctext}]&lt;br&gt;
[{submit}]</page>
	<pagetype_nodetype table="htmlpage" type="nodetype">task_update</pagetype_nodetype>
	<parent_container table="htmlpage" type="container">formcontainer</parent_container>
	<permissionneeded table="htmlpage">w</permissionneeded>
	<title table="node">task_update edit page</title>
	<type_nodetype table="node" type="nodetype">htmlpage</type_nodetype>
</NODE>